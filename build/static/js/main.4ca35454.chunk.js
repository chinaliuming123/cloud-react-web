(this["webpackJsonprect-demo"]=this["webpackJsonprect-demo"]||[]).push([[0],{137:function(e,t,n){e.exports=n(234)},155:function(e){e.exports=JSON.parse('{"version":"2.0","envId":"vue-3g1ei8m934e45f58","$schema":"https://framework-1258016615.tcloudbaseapp.com/schema/latest.json","functionRoot":"functions","functions":[],"framework":{"name":"react-demo","plugins":{"react":{"use":"@cloudbase/framework-plugin-website","inputs":{"buildCommand":"npm run build","outputPath":"build"}},"function":{"use":"@cloudbase/framework-plugin-function","inputs":{"functionRootPath":"functions"}},"db":{"use":"@cloudbase/framework-plugin-database","inputs":{"collections":[{"collectionName":"demo_web"}]}}}}}')},228:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(31),o=n.n(r),i=(n(142),n(132)),l=n(47),u=n.n(l),s=n(55),m=n(49),p=n(60),f=n(26),d=(n(106),n(53)),h=(n(107),n(41)),b=(n(108),n(70)),v=(n(235),n(90)),E=(n(97),n(66)),g=(n(153),n(136)),y={envId:n(155).envId,storageBaseUrl:""},w=function(){var e=window.tcb.init({env:y.envId});return e.auth({persistence:"local"}),e},k=n(242),x=n(243),j=n(244),O=(n(201),n(134)),S=(n(236),n(133)),I=[{path:"/",component:function(){var e=w(),t=e.database(),n=Object(f.f)(),r=Object(a.useState)(!1),o=Object(m.a)(r,2),i=o[0],l=o[1],p=Object(a.useState)([]),y=Object(m.a)(p,2),O=y[0],S=y[1],I=function(){var e=Object(s.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection("article").get();case 2:n=e.sent,a=n.data,S(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){return c.a.createElement(g.b,null,c.a.createElement(e.icon),e.text)};function B(){return(B=Object(s.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),n=e.auth(),t.next=4,n.anonymousAuthProvider().signIn();case 4:return t.next=6,n.getLoginState();case 6:a=t.sent,console.log(a.isAnonymous),I(),l(!1);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){B.apply(this,arguments)}()}),[]),c.a.createElement("div",null,c.a.createElement(v.b,{itemLayout:"vertical",size:"large",loading:i,pagination:{onChange:function(e){console.log(e)},pageSize:5},dataSource:O,renderItem:function(e){return c.a.createElement(v.b.Item,{key:e.title,actions:[c.a.createElement(N,{icon:k.a,text:"156",key:"list-vertical-star-o"}),c.a.createElement(N,{icon:x.a,text:"156",key:"list-vertical-like-o"}),c.a.createElement(N,{icon:j.a,text:"2",key:"list-vertical-message"})],extra:c.a.createElement("img",{width:200,alt:"logo",src:"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png"})},c.a.createElement(v.b.Item.Meta,{avatar:c.a.createElement(E.a,{src:e.avatar}),title:c.a.createElement("a",{onClick:function(){return t=e._id,void n.push("/article/".concat(t));var t},color:"orange"},e.title),description:e.description}))}}),c.a.createElement(d.a,null,c.a.createElement(h.a,{span:8,offset:8},c.a.createElement(b.a,{onClick:function(){n.push("/about")}},"about"))))}},{path:"/article/:id",component:function(){var e=Object(f.h)().id,t=Object(f.f)(),n=w().database(),r=Object(a.useState)({_id:"",title:"",description:"",content:"",avatar:""}),o=Object(m.a)(r,2),i=o[0],l=o[1],p=function(){var t=Object(s.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.collection("article").doc(e).get();case 2:a=t.sent,c=a.data,console.log(c),l(c[0]);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){p()}),[]),c.a.createElement("div",null,c.a.createElement(S.a,{className:"site-page-header",onBack:function(){return t.goBack()},title:i.title,subTitle:i.description}),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:i.content}}))}},{path:"/about",component:function(){return c.a.createElement("div",null,"about")}},{path:"**",component:function(){return c.a.createElement(O.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:c.a.createElement("span",null,"Back Home")})}}];function N(){return e=I,c.a.createElement(f.c,null,e.map((function(e,t){return c.a.createElement(f.a,{key:t,path:e.path,component:e.component,exact:e.exact||!0,strict:e.strict||!1})})));var e}n(237);var B=n(131),C=(n(224),n(135)),_=(n(117),n(54)),q=(n(226),n(77)),z=(n(228),q.a.Header),A=q.a.Content;_.a.SubMenu;function L(e){var t=Object(f.f)(),n=Object(f.g)(),r=Object(a.useState)([]),o=Object(m.a)(r,2),i=o[0],l=o[1];return Object(a.useEffect)((function(){console.log(n.pathname),l((function(){return[n.pathname]}))}),[n]),c.a.createElement("div",{className:"App"},c.a.createElement(q.a,{style:{height:"100%"}},c.a.createElement(C.a,{offsetTop:0},c.a.createElement(z,{className:"header flex"},c.a.createElement("div",{className:"logo"},c.a.createElement(E.a,{style:{height:"40px",width:"40px"},src:"".concat(y.storageBaseUrl,"/icon.png")})),c.a.createElement(_.a,{mode:"horizontal",onSelect:function(e){t.replace(e.key)},selectedKeys:i,theme:"dark"},c.a.createElement(_.a.Item,{key:"/"},"\u9996\u9875"),c.a.createElement(_.a.Item,{key:"/about"},"\u5173\u4e8e")))),c.a.createElement(A,{style:{padding:"0 50px",display:"flex",flexDirection:"column"}},c.a.createElement(q.a,{style:{padding:"24px 0",flex:"1 1 auto",background:"#fff"}},c.a.createElement(A,{style:{padding:"0 24px"}},c.a.createElement(B.a,{className:"card",bordered:!1},c.a.createElement("div",{className:"card-content",style:{overflow:"auto"}},e.children)))))))}n(231),n(232);var P=I.filter((function(e){return e.menu}));function T(){var e=Object(a.useState)(!0),t=Object(m.a)(e,2),n=t[0],r=t[1];return function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("script")).type="text/javascript",t.src="https://imgcache.qq.com/qcloud/tcbjs/1.5.0/tcb.js",document.head.appendChild(t),e.abrupt("return",new Promise((function(e){t.onload=function(){e()}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(){r(!1)})),c.a.createElement("div",{className:"App"},c.a.createElement(L,{menus:P},n?c.a.createElement(i.a,{active:!0}):N()))}var D=function(){return c.a.createElement(p.a,null,c.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(233);o.a.render(c.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[137,1,2]]]);
//# sourceMappingURL=main.4ca35454.chunk.js.map